import { Callout } from 'nextra/components'

# React

## ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶

ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶è€Œä¸æ˜¯ç±»ç»„ä»¶

**âœ… Good:**

```js
const MyComponent = () => {
  return <div>My Component</div>
}
```

**âŒ Bad:**

```js
class MyComponent extends React.Component {
  render() {
    return <div>My Component</div>
  }
}
```

## ç»„ä»¶ä½œä¸ºé»˜è®¤è®¾ç½®å¯¼å‡º

å°†ç»„ä»¶ä½œä¸ºé»˜è®¤è®¾ç½®å¯¼å‡º

**âœ… Good:**

```js
export default MyComponent
```

**âŒ Bad:**

```js
export { MyComponent }

export default () => {

}
```

<Callout type="default">
ä½¿ç”¨ `React.lazy` è¿›è¡Œä»£ç æ‹†åˆ†ä»…é€‚ç”¨äºé»˜è®¤å¯¼å‡ºçš„ç»„ä»¶ã€‚
</Callout>

## åˆ—è¡¨ä¸­çš„é”®

æŒ‘é€‰é”®çš„æœ€ä½³æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å¯åœ¨åŒçº§åˆ—è¡¨ä¸­å”¯ä¸€æ ‡è¯†åˆ—è¡¨é¡¹ã€‚ å¦‚æœé¡¹çš„é¡ºåºå¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ä¸å»ºè®®ä¸ºé”®ä½¿ç”¨ç´¢å¼•ã€‚ è¿™ä¼šå¯¹æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ï¼Œå¹¶å¯èƒ½å¯¼è‡´ç»„ä»¶çŠ¶æ€å‡ºç°é—®é¢˜

**âœ… Good:**

```js
array.map((item, index) => <Component key={item.id} {...item}>)
```

**âŒ Bad:**

```js
array.map((item, index) => <Component key={index} {...item}>)
```

## useState å‡½æ•°å¼æ›´æ–°

å¦‚æœæ–°çŠ¶æ€æ˜¯é€šè¿‡å‰ä¸€ä¸ªçŠ¶æ€è®¡ç®—å‡ºæ¥çš„ï¼Œåˆ™å¯ä»¥å‘ setState ä¼ é€’ä¸€ä¸ªå‡½æ•°ã€‚ è¿™æ ·å°±å¯ä»¥é¿å…çŠ¶æ€ä¹‹é—´çš„ç«äº‰ï¼Œå¹¶é˜²æ­¢å¯èƒ½å‡ºç°çš„é”™è¯¯

**âœ… Good:**

```js
const [number, setNumber] = useState(1)

return (
  <div>
    <h1>{number}</h1>
    <button onClick={() => setNumber((prevNumber) => prevNumber + 1)}>
      Increase
    </button>
    <button onClick={() => setNumber((prevNumber) => prevNumber - 1)}>
      Decrease
    </button>
  </div>
)
```

**âŒ Bad:**

```js
const [number, setNumber] = useState(1)

return (
  <div>
    <h1>{number}</h1>
    <button onClick={() => setNumber(number + 1)}>Increase</button>
    <button onClick={() => setNumber(number - 1ï¼‰}>Decrease</button>
  </div>
)
```

## useEffect ä¾èµ–å…³ç³»æ•°ç»„ 

ä½¿ç”¨ useEffect ä¾èµ–å…³ç³»æ•°ç»„è§¦å‘å‰¯ä½œç”¨ï¼Œä½¿ä»£ç æ›´ç®€æ´

**âœ… Good:**

```js
const [page, setPage] = useState(1)

useEffect(() => {
  requestListUser()
  // calls useEffect when page state changes
}, [page])

return (
  <div>
    <button onClick={() => setPage((prevState) => prevState + 1)}>
      Next Page
    </button>
  </div>
)
```

**âŒ Bad:**

```js
const [page, setPage] = useState(1)

useEffect(() => {
  requestListUser()
}, [])

const requestListUser = () => {
  setPage((prevState) => prevState + 1)
  // ...
  // any code to return user list
}

return (
  <div>
    <button onClick={() => requestListUser()}>Next Page</button>
  </div>
)
```

## å¯è¯»ç»„ä»¶ 

é¿å…åˆ›å»ºéå¸¸åºå¤§çš„ç»„ä»¶ã€‚ å°½å¯èƒ½å°†å…¶åˆ’åˆ†ä¸ºå­ç»„ä»¶ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å’Œé˜…è¯»ä»£ç 

**âœ… Good:**

```js
const Screen = () => (
  <Container>
    <Header>
      <Title />
      <Button background="black">Filter</Button>
    </Header>

    <Main>
      <List>
        {data.map((item) => (
          <Card key={item.id} name={item.name} />
        ))}
      </List>
    </Main>
  </Container>
)
```

**âŒ Bad:**

```js
const Screen = () => (
  <Box padding={1}>
    <Box alignItems="center">
      <Text>Titulo</Text>
      <Button background="black">Filter</Button>
    </Box>
    <Box marginTop={5}>
      <Box>
        {data.map((item) => (
          <Box key={item.id}>
            <Text color="red">{item.name}</Text>
          </Box>
        ))}
      </Box>
    </Box>
  </Box>
)
```

## é¿å…ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸² 

å½“çŸ¥é“æ‰€æœ‰å¯èƒ½çš„å€¼æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æšä¸¾æ¥å®ç°æ›´å¥½çš„å¯è¯»æ€§å’Œæ§åˆ¶

**âœ… Good:**

```tsx
const FEEDBACK = {
  CORRECT: 'correct',
  INCORRECT: 'incorrect',
}

const MyComponent = (type) => {
  const text = type === FEEDBACK.CORRECT ? 'ğŸ˜' : 'ğŸ˜¢'
  
  return (
    <Emoji>
      {text}
    </Emoji>
  )
}
```

**âŒ Bad:**

```tsx
const MyComponent = (type) => {
  const text = type === 'correct' ? 'ğŸ˜' : 'ğŸ˜¢'

  return (
    <Emoji>
      {text}
    </Emoji>
  )
}
```

## ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦

åœ¨åˆ›å»ºç»„ä»¶åŒ…è£…å™¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•åŸå§‹ç»„ä»¶çš„ç±»å‹ã€‚è¿™æ ·å°è£…å™¨å°±ä¼šè‡ªåŠ¨æ‰©å±•åŸå§‹ç»„ä»¶çš„æ‰€æœ‰propï¼Œä¹Ÿå¯ä»¥é¿å…åœ¨é€ä¼ ç»„ä»¶å¢åŠ ä¸å¿…è¦çš„ç±»å‹å®šä¹‰

**âœ… Good:**

```tsx
import { MenuItem, TextField } from '@mui/material';
import { TextFieldProps } from '@mui/material';

export type SelectOption = { value: string; label: string };

export type SelectProps = TextFieldProps & {
  options: SelectOption[];
};

const Select = ({ options, ...props }: SelectProps) => {
  return (
    <TextField {...props}>
      {options.map((option) => (
        <MenuItem key={uuidv4()} value={option.value}>
          {option.label}
        </MenuItem>
      ))}
    </TextField>
  );
};
```

**âŒ Bad:**

```tsx
import { MenuItem, TextField } from '@mui/material';

export type SelectOption = { value: string; label: string };

export type SelectProps = {
  options: SelectOption[];
  disabled: boolean;
  onChange: () => void;
  value: string;
  onBlur: () => void;
};

const Select = ({
  options,
  disabled,
  onChange,
  value,
  onBlur,
} : SelectProps) => {
  return (
    <TextField
      disabled={disabled}
      onChange={handleOnChange}
      value={value}
      onBlur={handleOnBlur}
    >
      {options.map((option) => (
        <MenuItem key={uuidv4()} value={option.value}>
          {option.label}
        </MenuItem>
      ))}
    </TextField>
  );
};
```

## æ¡ä»¶æ¸²æŸ“

### ä½¿ç”¨é€»è¾‘ä¸è¿ç®—ç¬¦

å½“æˆ‘ä»¬åœ¨ JSX ä¸­éœ€è¦éªŒè¯ä¸€ä¸ªé€»è¾‘æ¡ä»¶å¹¶è¿”å›ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨é€»è¾‘ä¸è¿ç®—ç¬¦

**âœ… Good:**

```tsx
import { useState } from 'react'
import Welcome from '../components/Welcome'

const HomePage = () => {
  const [showWelcome, setShowWelcome] = useState(true)
  return showWelcome && <Welcome />
};
```

**âŒ Bad:**

```tsx
import { useState } from 'react'
import Welcome from '../components/Welcome'

const HomePage = () => {
  const [showWelcome, setShowWelcome] = useState(true)
  return showWelcome ? <Welcome /> : <></>
};
```
## ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦

å½“æˆ‘ä»¬éœ€è¦éªŒè¯ä¸¤ä¸ªé€»è¾‘æƒ…å†µå¹¶è¿”å›ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦è€Œä¸æ˜¯ ifâ€¦else

**âœ… Good:**

```tsx
import { useState } from 'react'
import Welcome from '../components/Welcome'
import Dashboard from '../components/Dashboard'

const HomePage = () => {
  const [showWelcome, setShowWelcome] = useState(false)
  return showWelcome ? <Welcome /> : <Dashboard />
};
```

**âŒ Bad:**

```tsx
import { useState } from 'react'
import Welcome from '../components/Welcome'
import Dashboard from '../components/Dashboard'

const HomePage = () => {
  const [showWelcome, setShowWelcome] = useState(false)

  if (!showWelcome) {
    return <Dashboard />
  }

  return <Welcome />
};
```

## åœ¨ JSX ä¸­å¸ƒå°”å±æ€§

åœ¨ JSX ä¸­ç®€åŒ–ä¼ é€’å¸ƒå°”å±æ€§çš„å€¼

**âœ… Good:**

```tsx
<Input type="text" disabled />
```

**âŒ Bad:**

```tsx
<Input type="text" disabled={true} />
```

## Props

### è§£æ„ Props

åœ¨å‡½æ•°ç»„ä»¶çš„å‚æ•°æ‹¬å·å†…è§£æ„ propsï¼Œè€Œä¸æ˜¯åœ¨å‡½æ•°ä½“å†…

**âœ… Good:**

```tsx
const TodoItem = ({ text, checked }) => (
    <div className="todo">
        <Checkbox className="todo__checkbox" checked={checked} />
        <div>{text}</div>
    </div>
);

const TodoItem = ({ text, checked }) => {
    const { text, checked } = props;
    return (
        <div className="todo">
            <Checkbox className="todo__checkbox" checked={checked} />
            <div>{text}</div>
        </div>
    );
}
```

**âŒ Bad:**

```tsx
const TodoItem = (props) => (
    <div className="todo">
        <Checkbox className="todo__checkbox" checked={props.checked} />
        <div>{props.text}</div>
    </div>
);
```

### é¿å…åœ¨å±æ€§ä¸­ä½¿ç”¨å¯¹è±¡

ä¼ é€’å•ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯å°†å¤šä¸ªå±æ€§ç»„åˆæˆä¸€ä¸ªå¯¹è±¡æ¥ä¼ é€’ã€‚

**âœ… Good:**
```tsx
const TodoItem = ({ id, title, text }) => (
    <div className="todo">
        <TodoTitle id={id} title={title} />
        <div>{text}</div>
    </div>
);
```

**âŒ Bad:**
```tsx
const TodoItem = ({ todo }) => (
    <div className="todo">
        <TodoTitle id={todo.id} title={todo.title} />
        <div>{todo.text}</div>
    </div>
);
```
